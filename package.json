{
  "name": "todoApi",
  "version": "0.0.0",
  "private": true,
  "scripts": {
    "db:migrate:run": "DATABASE_URL=$(grep -A2 ${ENV}: .env.yml | tail -n1 | awk '{print $2}') db-migrate up",
    "db:migrate:dev": "ENV=development npm run db:migrate:run",
    "db:migrate:staging": "ENV=staging npm run db:migrate:run",
    "db:migrate:prod": "ENV=production npm run db:migrate:run",

    "db:rollback:run": "DATABASE_URL=$(grep -A2 ${ENV}: .env.yml | tail -n1 | awk '{print $2}') db-migrate down",
    "db:rollback:dev": "ENV=development npm run db:rollback:run",
    "db:rollback:staging": "ENV=staging npm run db:rollback:run",
    "db:rollback:prod": "ENV=production npm run db:rollback:run",

    "db:connect:run": "DATABASE_URL=$(grep -A2 ${ENV}: .env.yml | tail -n1 | awk '{print $2}') && psql $DATABASE_URL",
    "db:connect:dev": "ENV=development npm run db:connect:run",
    "db:connect:staging": "ENV=staging npm run db:connect:run",
    "db:connect:prod": "ENV=production npm run db:connect:run",

    "start": "NODE_ENV=development nodemon ./bin/www",
    "deploy:staging": "serverless deploy --stage staging",
    "deploy:prod": "serverless deploy --stage production"
  },
  "dependencies": {
    "aws-serverless-express": "^1.1.4",
    "body-parser": "~1.15.1",
    "cookie-parser": "~1.4.3",
    "debug": "~2.2.0",
    "dotenv": "^2.0.0",
    "express": "~4.13.4",
    "jade": "~1.11.0",
    "massive": "^2.5.0",
    "morgan": "~1.7.0",
    "serve-favicon": "~2.3.0",
    "yamljs": "^0.2.8"
  },
  "devDependencies": {
    "db-migrate": "^0.10.0-beta.20",
    "db-migrate-pg": "^0.1.11",
    "nodemon": "^1.11.0",
    "serverless": "^1.0.3",
    "serverless-plugin-write-env-vars": "^1.0.1"
  }
}
